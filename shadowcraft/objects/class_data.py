from shadowcraft.core import exceptions

class Util(object):
# This should have its own GameClass(object) architecture at some point.

    GAME_CLASS_NUMBER = {
        1:"warrior", 2:"paladin", 3:"hunter", 4:"rogue",
        5:"priest", 6:"death_knight", 7:"shaman", 8:"mage", 9:"warlock",
        10:"monk", 11:"druid", 12:"demon_hunter"
    }

    #constant scaling (for level based calculations and the like)
    CONSTANT_SCALING = [
       3.000000000000000,    3.000000000000000,    4.000000000000000,    4.000000000000000,    5.000000000000000,
       6.000000000000000,    6.000000000000000,    7.000000000000000,    7.000000000000000,    8.000000000000000,
       8.000000000000000,    9.000000000000000,    9.000000000000000,   10.000000000000000,   10.000000000000000,
      11.000000000000000,   11.000000000000000,   12.000000000000000,   12.000000000000000,   13.000000000000000,
      13.000000000000000,   14.000000000000000,   14.000000000000000,   15.000000000000000,   15.000000000000000,
      16.000000000000000,   16.000000000000000,   17.000000000000000,   17.000000000000000,   18.000000000000000,
      18.000000000000000,   19.000000000000000,   19.000000000000000,   20.000000000000000,   20.000000000000000,
      21.000000000000000,   21.000000000000000,   22.000000000000000,   22.000000000000000,   23.000000000000000,
      23.000000000000000,   24.000000000000000,   24.000000000000000,   25.000000000000000,   25.000000000000000,
      26.000000000000000,   26.000000000000000,   27.000000000000000,   27.000000000000000,   28.000000000000000,
      28.000000000000000,   29.000000000000000,   29.000000000000000,   30.000000000000000,   30.000000000000000,
      31.000000000000000,   31.000000000000000,   32.000000000000000,   32.000000000000000,   33.000000000000000,
      35.000000000000000,   37.000000000000000,   39.000000000000000,   39.000000000000000,   40.000000000000000,
      40.000000000000000,   41.000000000000000,   41.000000000000000,   42.000000000000000,   43.000000000000000,
      45.000000000000000,   47.000000000000000,   49.000000000000000,   49.000000000000000,   50.000000000000000,
      50.000000000000000,   51.000000000000000,   51.000000000000000,   52.000000000000000,   52.000000000000000,
      54.000000000000000,   56.000000000000000,   57.000000000000000,   57.000000000000000,   58.000000000000000,
      60.000000000000000,   63.000000000000000,   65.000000000000000,   66.000000000000000,   67.000000000000000,
     101.000000000000000,  118.000000000000000,  139.000000000000000,  162.000000000000000,  190.000000000000000,
     225.000000000000000,  234.000000000000000,  242.000000000000000,  252.000000000000000,  261.000000000000000,
     261.000000000000000,  261.000000000000000,  261.000000000000000,  261.000000000000000,  261.000000000000000,
     261.000000000000000,  261.000000000000000,  261.000000000000000,  261.000000000000000,  261.000000000000000,
    ]

    #Base armor values for enemy level
    #Source: http://blue.mmo-champion.com/topic/409203-theorycrafting-questions/#post109
    BASE_ARMOR = {100: 1536.,
    101: 2313.,
    102: 2388.,
    103: 2467.,
    104: 2550.,
    105: 2638.,
    106: 2729.,
    107: 2826.,
    108: 2927.,
    109: 3035.,
    110: 3144.,
    111: 3254.,
    112: 3364.,
    113: 3474.,
    }

    #K value for armor mitigation computation
    #Source: http://blue.mmo-champion.com/topic/409203-theorycrafting-questions/#post46
    ATTACKER_K_VALUE = {100: 3610.,
    101: 3973.,
    102: 4373.,
    103: 4812.,
    104: 5296.,
    105: 5829.,
    106: 6415.,
    107: 6642.,
    108: 6880.,
    109: 7132.,
    110: 7390.,
    111: 7648.,
    112: 7906.,
    113: 8164.,
    }

    #SimC keeps random prop points in engine/dbc/generated/sc_item_data2.inc
    #Trinket random property points for item levels 1-1000, wow build 23360, updated 2017-02-24
    RANDOM_PROP_POINTS = [
        [0,0],
        [1,0],
        [2,0],
        [3,0],
        [4,0],
        [5,0],
        [6,0],
        [7,0],
        [8,0],
        [9,0],
        [10,9],
        [11,10],
        [12,10],
        [13,11],
        [14,11],
        [15,12],
        [16,12],
        [17,13],
        [18,13],
        [19,14],
        [20,14],
        [21,15],
        [22,15],
        [23,16],
        [24,16],
        [25,17],
        [26,17],
        [27,18],
        [28,18],
        [29,19],
        [30,19],
        [31,20],
        [32,20],
        [33,21],
        [34,21],
        [35,22],
        [36,22],
        [37,23],
        [38,23],
        [39,24],
        [40,24],
        [41,25],
        [42,25],
        [43,26],
        [44,26],
        [45,27],
        [46,27],
        [47,28],
        [48,28],
        [49,29],
        [50,29],
        [51,30],
        [52,30],
        [53,31],
        [54,31],
        [55,32],
        [56,32],
        [57,33],
        [58,33],
        [59,34],
        [60,34],
        [61,35],
        [62,35],
        [63,36],
        [64,36],
        [65,37],
        [66,37],
        [67,37],
        [68,37],
        [69,37],
        [70,37],
        [71,37],
        [72,37],
        [73,37],
        [74,37],
        [75,37],
        [76,37],
        [77,37],
        [78,37],
        [79,37],
        [80,37],
        [81,37],
        [82,37],
        [83,37],
        [84,37],
        [85,37],
        [86,37],
        [87,37],
        [88,37],
        [89,37],
        [90,37],
        [91,37],
        [92,37],
        [93,37],
        [94,38],
        [95,38],
        [96,39],
        [97,39],
        [98,40],
        [99,40],
        [100,40],
        [101,41],
        [102,41],
        [103,42],
        [104,42],
        [105,43],
        [106,43],
        [107,44],
        [108,44],
        [109,44],
        [110,45],
        [111,45],
        [112,46],
        [113,46],
        [114,47],
        [115,47],
        [116,47],
        [117,47],
        [118,47],
        [119,47],
        [120,47],
        [121,47],
        [122,47],
        [123,47],
        [124,47],
        [125,47],
        [126,47],
        [127,47],
        [128,47],
        [129,47],
        [130,47],
        [131,47],
        [132,47],
        [133,47],
        [134,47],
        [135,47],
        [136,47],
        [137,47],
        [138,47],
        [139,47],
        [140,47],
        [141,47],
        [142,47],
        [143,47],
        [144,47],
        [145,47],
        [146,47],
        [147,47],
        [148,47],
        [149,47],
        [150,47],
        [151,47],
        [152,47],
        [153,47],
        [154,47],
        [155,47],
        [156,47],
        [157,47],
        [158,47],
        [159,47],
        [160,47],
        [161,47],
        [162,47],
        [163,47],
        [164,47],
        [165,47],
        [166,48],
        [167,48],
        [168,48],
        [169,48],
        [170,48],
        [171,48],
        [172,48],
        [173,49],
        [174,49],
        [175,49],
        [176,49],
        [177,49],
        [178,49],
        [179,49],
        [180,50],
        [181,50],
        [182,50],
        [183,50],
        [184,50],
        [185,50],
        [186,50],
        [187,51],
        [188,51],
        [189,51],
        [190,51],
        [191,51],
        [192,51],
        [193,51],
        [194,52],
        [195,52],
        [196,52],
        [197,52],
        [198,52],
        [199,52],
        [200,52],
        [201,53],
        [202,53],
        [203,53],
        [204,53],
        [205,53],
        [206,53],
        [207,54],
        [208,54],
        [209,54],
        [210,54],
        [211,54],
        [212,54],
        [213,55],
        [214,55],
        [215,55],
        [216,55],
        [217,55],
        [218,55],
        [219,55],
        [220,55],
        [221,55],
        [222,55],
        [223,55],
        [224,55],
        [225,55],
        [226,55],
        [227,55],
        [228,55],
        [229,55],
        [230,55],
        [231,55],
        [232,55],
        [233,55],
        [234,55],
        [235,55],
        [236,55],
        [237,55],
        [238,55],
        [239,55],
        [240,55],
        [241,55],
        [242,55],
        [243,55],
        [244,55],
        [245,55],
        [246,55],
        [247,55],
        [248,55],
        [249,55],
        [250,55],
        [251,55],
        [252,55],
        [253,55],
        [254,55],
        [255,55],
        [256,55],
        [257,55],
        [258,55],
        [259,55],
        [260,55],
        [261,55],
        [262,55],
        [263,55],
        [264,55],
        [265,55],
        [266,55],
        [267,55],
        [268,55],
        [269,55],
        [270,55],
        [271,55],
        [272,55],
        [273,55],
        [274,55],
        [275,55],
        [276,55],
        [277,55],
        [278,55],
        [279,55],
        [280,55],
        [281,55],
        [282,55],
        [283,55],
        [284,55],
        [285,55],
        [286,55],
        [287,55],
        [288,55],
        [289,55],
        [290,55],
        [291,56],
        [292,56],
        [293,56],
        [294,56],
        [295,56],
        [296,56],
        [297,56],
        [298,56],
        [299,56],
        [300,56],
        [301,56],
        [302,56],
        [303,56],
        [304,56],
        [305,57],
        [306,57],
        [307,57],
        [308,57],
        [309,57],
        [310,57],
        [311,57],
        [312,57],
        [313,57],
        [314,57],
        [315,57],
        [316,57],
        [317,57],
        [318,57],
        [319,58],
        [320,58],
        [321,58],
        [322,58],
        [323,58],
        [324,58],
        [325,58],
        [326,58],
        [327,58],
        [328,58],
        [329,58],
        [330,58],
        [331,58],
        [332,59],
        [333,59],
        [334,59],
        [335,59],
        [336,59],
        [337,59],
        [338,59],
        [339,59],
        [340,59],
        [341,59],
        [342,59],
        [343,59],
        [344,59],
        [345,59],
        [346,60],
        [347,60],
        [348,60],
        [349,60],
        [350,60],
        [351,60],
        [352,60],
        [353,60],
        [354,60],
        [355,60],
        [356,60],
        [357,60],
        [358,60],
        [359,61],
        [360,61],
        [361,61],
        [362,61],
        [363,61],
        [364,61],
        [365,61],
        [366,61],
        [367,61],
        [368,61],
        [369,61],
        [370,61],
        [371,61],
        [372,61],
        [373,61],
        [374,61],
        [375,61],
        [376,61],
        [377,61],
        [378,61],
        [379,61],
        [380,61],
        [381,61],
        [382,61],
        [383,61],
        [384,61],
        [385,61],
        [386,61],
        [387,61],
        [388,61],
        [389,61],
        [390,61],
        [391,61],
        [392,61],
        [393,61],
        [394,61],
        [395,61],
        [396,61],
        [397,61],
        [398,61],
        [399,61],
        [400,61],
        [401,61],
        [402,61],
        [403,61],
        [404,61],
        [405,61],
        [406,61],
        [407,61],
        [408,61],
        [409,61],
        [410,61],
        [411,61],
        [412,61],
        [413,61],
        [414,61],
        [415,61],
        [416,61],
        [417,61],
        [418,62],
        [419,62],
        [420,62],
        [421,62],
        [422,62],
        [423,62],
        [424,62],
        [425,62],
        [426,62],
        [427,62],
        [428,62],
        [429,62],
        [430,62],
        [431,62],
        [432,62],
        [433,62],
        [434,62],
        [435,63],
        [436,63],
        [437,63],
        [438,63],
        [439,63],
        [440,63],
        [441,63],
        [442,63],
        [443,63],
        [444,64],
        [445,64],
        [446,64],
        [447,64],
        [448,64],
        [449,64],
        [450,65],
        [451,65],
        [452,65],
        [453,65],
        [454,65],
        [455,65],
        [456,65],
        [457,66],
        [458,66],
        [459,66],
        [460,66],
        [461,66],
        [462,66],
        [463,67],
        [464,68],
        [465,68],
        [466,69],
        [467,70],
        [468,70],
        [469,71],
        [470,72],
        [471,72],
        [472,73],
        [473,74],
        [474,74],
        [475,75],
        [476,76],
        [477,76],
        [478,77],
        [479,78],
        [480,78],
        [481,79],
        [482,80],
        [483,81],
        [484,81],
        [485,82],
        [486,83],
        [487,84],
        [488,85],
        [489,85],
        [490,86],
        [491,87],
        [492,88],
        [493,89],
        [494,89],
        [495,90],
        [496,91],
        [497,92],
        [498,93],
        [499,94],
        [500,95],
        [501,95],
        [502,96],
        [503,97],
        [504,98],
        [505,99],
        [506,100],
        [507,101],
        [508,102],
        [509,103],
        [510,104],
        [511,105],
        [512,106],
        [513,107],
        [514,108],
        [515,109],
        [516,110],
        [517,111],
        [518,112],
        [519,113],
        [520,114],
        [521,115],
        [522,116],
        [523,117],
        [524,118],
        [525,119],
        [526,121],
        [527,122],
        [528,123],
        [529,124],
        [530,125],
        [531,126],
        [532,127],
        [533,129],
        [534,130],
        [535,131],
        [536,132],
        [537,134],
        [538,135],
        [539,136],
        [540,137],
        [541,139],
        [542,140],
        [543,141],
        [544,143],
        [545,144],
        [546,145],
        [547,147],
        [548,148],
        [549,149],
        [550,151],
        [551,152],
        [552,154],
        [553,155],
        [554,156],
        [555,158],
        [556,159],
        [557,161],
        [558,162],
        [559,164],
        [560,165],
        [561,167],
        [562,169],
        [563,170],
        [564,172],
        [565,173],
        [566,175],
        [567,177],
        [568,178],
        [569,180],
        [570,182],
        [571,183],
        [572,185],
        [573,187],
        [574,188],
        [575,190],
        [576,192],
        [577,194],
        [578,196],
        [579,197],
        [580,199],
        [581,201],
        [582,203],
        [583,205],
        [584,207],
        [585,209],
        [586,211],
        [587,213],
        [588,215],
        [589,217],
        [590,219],
        [591,221],
        [592,223],
        [593,225],
        [594,227],
        [595,229],
        [596,231],
        [597,234],
        [598,236],
        [599,238],
        [600,240],
        [601,242],
        [602,245],
        [603,247],
        [604,249],
        [605,252],
        [606,254],
        [607,256],
        [608,259],
        [609,261],
        [610,264],
        [611,266],
        [612,269],
        [613,271],
        [614,274],
        [615,276],
        [616,279],
        [617,281],
        [618,284],
        [619,287],
        [620,289],
        [621,292],
        [622,295],
        [623,298],
        [624,300],
        [625,303],
        [626,306],
        [627,309],
        [628,312],
        [629,315],
        [630,318],
        [631,321],
        [632,324],
        [633,327],
        [634,330],
        [635,333],
        [636,336],
        [637,339],
        [638,342],
        [639,345],
        [640,349],
        [641,352],
        [642,355],
        [643,358],
        [644,362],
        [645,365],
        [646,369],
        [647,372],
        [648,376],
        [649,379],
        [650,383],
        [651,386],
        [652,390],
        [653,393],
        [654,397],
        [655,401],
        [656,405],
        [657,408],
        [658,412],
        [659,416],
        [660,420],
        [661,424],
        [662,428],
        [663,432],
        [664,436],
        [665,440],
        [666,444],
        [667,448],
        [668,452],
        [669,457],
        [670,461],
        [671,465],
        [672,470],
        [673,474],
        [674,479],
        [675,483],
        [676,488],
        [677,492],
        [678,497],
        [679,501],
        [680,506],
        [681,511],
        [682,516],
        [683,520],
        [684,525],
        [685,530],
        [686,535],
        [687,540],
        [688,545],
        [689,550],
        [690,555],
        [691,561],
        [692,566],
        [693,571],
        [694,577],
        [695,582],
        [696,587],
        [697,593],
        [698,598],
        [699,604],
        [700,610],
        [701,615],
        [702,621],
        [703,627],
        [704,633],
        [705,639],
        [706,645],
        [707,651],
        [708,657],
        [709,663],
        [710,669],
        [711,675],
        [712,682],
        [713,688],
        [714,695],
        [715,701],
        [716,708],
        [717,714],
        [718,721],
        [719,728],
        [720,735],
        [721,741],
        [722,748],
        [723,755],
        [724,762],
        [725,770],
        [726,777],
        [727,784],
        [728,791],
        [729,799],
        [730,806],
        [731,814],
        [732,821],
        [733,829],
        [734,837],
        [735,845],
        [736,853],
        [737,861],
        [738,869],
        [739,877],
        [740,885],
        [741,893],
        [742,902],
        [743,910],
        [744,919],
        [745,927],
        [746,936],
        [747,945],
        [748,954],
        [749,962],
        [750,971],
        [751,981],
        [752,990],
        [753,999],
        [754,1008],
        [755,1018],
        [756,1027],
        [757,1037],
        [758,1047],
        [759,1056],
        [760,1066],
        [761,1076],
        [762,1086],
        [763,1097],
        [764,1107],
        [765,1117],
        [766,1128],
        [767,1138],
        [768,1149],
        [769,1160],
        [770,1170],
        [771,1181],
        [772,1192],
        [773,1204],
        [774,1215],
        [775,1226],
        [776,1238],
        [777,1249],
        [778,1261],
        [779,1273],
        [780,1285],
        [781,1297],
        [782,1309],
        [783,1321],
        [784,1334],
        [785,1346],
        [786,1359],
        [787,1371],
        [788,1384],
        [789,1397],
        [790,1410],
        [791,1423],
        [792,1437],
        [793,1450],
        [794,1464],
        [795,1477],
        [796,1491],
        [797,1505],
        [798,1519],
        [799,1534],
        [800,1551],
        [801,1568],
        [802,1586],
        [803,1604],
        [804,1623],
        [805,1641],
        [806,1659],
        [807,1678],
        [808,1698],
        [809,1716],
        [810,1736],
        [811,1756],
        [812,1776],
        [813,1795],
        [814,1816],
        [815,1836],
        [816,1858],
        [817,1879],
        [818,1900],
        [819,1921],
        [820,1943],
        [821,1964],
        [822,1987],
        [823,2010],
        [824,2032],
        [825,2051],
        [826,2070],
        [827,2090],
        [828,2109],
        [829,2129],
        [830,2149],
        [831,2169],
        [832,2190],
        [833,2210],
        [834,2231],
        [835,2252],
        [836,2273],
        [837,2294],
        [838,2316],
        [839,2337],
        [840,2359],
        [841,2381],
        [842,2403],
        [843,2426],
        [844,2448],
        [845,2471],
        [846,2494],
        [847,2517],
        [848,2542],
        [849,2566],
        [850,2589],
        [851,2614],
        [852,2638],
        [853,2662],
        [854,2688],
        [855,2713],
        [856,2738],
        [857,2764],
        [858,2789],
        [859,2816],
        [860,2842],
        [861,2869],
        [862,2895],
        [863,2923],
        [864,2950],
        [865,2977],
        [866,3006],
        [867,3034],
        [868,3062],
        [869,3091],
        [870,3120],
        [871,3150],
        [872,3179],
        [873,3208],
        [874,3239],
        [875,3268],
        [876,3300],
        [877,3330],
        [878,3362],
        [879,3393],
        [880,3425],
        [881,3456],
        [882,3489],
        [883,3521],
        [884,3555],
        [885,3587],
        [886,3621],
        [887,3656],
        [888,3689],
        [889,3724],
        [890,3759],
        [891,3794],
        [892,3830],
        [893,3866],
        [894,3901],
        [895,3938],
        [896,3975],
        [897,4013],
        [898,4050],
        [899,4088],
        [900,4126],
        [901,4165],
        [902,4204],
        [903,4244],
        [904,4282],
        [905,4323],
        [906,4363],
        [907,4404],
        [908,4445],
        [909,4487],
        [910,4529],
        [911,4571],
        [912,4614],
        [913,4657],
        [914,4701],
        [915,4746],
        [916,4790],
        [917,4835],
        [918,4880],
        [919,4925],
        [920,4971],
        [921,5017],
        [922,5065],
        [923,5112],
        [924,5160],
        [925,5209],
        [926,5257],
        [927,5306],
        [928,5357],
        [929,5406],
        [930,5457],
        [931,5508],
        [932,5559],
        [933,5612],
        [934,5664],
        [935,5717],
        [936,5770],
        [937,5825],
        [938,5880],
        [939,5934],
        [940,5990],
        [941,6046],
        [942,6102],
        [943,6160],
        [944,6218],
        [945,6275],
        [946,6334],
        [947,6394],
        [948,6454],
        [949,6514],
        [950,6575],
        [951,6637],
        [952,6699],
        [953,6762],
        [954,6825],
        [955,6889],
        [956,6953],
        [957,7018],
        [958,7084],
        [959,7150],
        [960,7217],
        [961,7284],
        [962,7353],
        [963,7422],
        [964,7491],
        [965,7562],
        [966,7632],
        [967,7703],
        [968,7776],
        [969,7848],
        [970,7922],
        [971,7996],
        [972,8071],
        [973,8146],
        [974,8223],
        [975,8300],
        [976,8377],
        [977,8456],
        [978,8535],
        [979,8615],
        [980,8696],
        [981,8776],
        [982,8859],
        [983,8942],
        [984,9025],
        [985,9110],
        [986,9195],
        [987,9282],
        [988,9369],
        [989,9456],
        [990,9545],
        [991,9634],
        [992,9725],
        [993,9815],
        [994,9907],
        [995,10000],
        [996,10093],
        [997,10188],
        [998,10283],
        [999,10380],
        [1000,10476],
    ]

    #SimC keeps combat rating multipliers in engine/dbc/generated/sc_scale_data.inc
    #Trinket combat rating multipliers for item level 1 - 1000, wow build 23420, updated 2017-02-25
    COMBAT_RATING_MULTIPLIERS = [
        1, 1, 1, 1, 1, #    5
        1, 1, 1, 1, 1, #   10
        1, 1, 1, 1, 1, #   15
        1, 1, 1, 1, 1, #   20
        1, 1, 1, 1, 1, #   25
        1, 1, 1, 1, 1, #   30
        1, 1, 1, 1, 1, #   35
        1, 1, 1, 1, 1, #   40
        1, 1, 1, 1, 1, #   45
        1, 1, 1, 1, 1, #   50
        1, 1, 1, 1, 1, #   55
        1, 1, 1, 1, 1, #   60
        1, 1, 1, 1, 1, #   65
        1, 1, 1, 1, 1, #   70
        1, 1, 1, 1, 1, #   75
        1, 1, 1, 1, 1, #   80
        1, 1, 1, 1, 1, #   85
        1, 1, 1, 1, 1, #   90
        1, 1, 1, 1, 1, #   95
        1, 1, 1, 1, 1, #  100
        1, 1, 1, 1, 1, #  105
        1, 1, 1, 1, 1, #  110
        1, 1, 1, 1, 1, #  115
        1, 1, 1, 1, 1, #  120
        1, 1, 1, 1, 1, #  125
        1, 1, 1, 1, 1, #  130
        1, 1, 1, 1, 1, #  135
        1, 1, 1, 1, 1, #  140
        1, 1, 1, 1, 1, #  145
        1, 1, 1, 1, 1, #  150
        1, 1, 1, 1, 1, #  155
        1, 1, 1, 1, 1, #  160
        1, 1, 1, 1, 1, #  165
        1, 1, 1, 1, 1, #  170
        1, 1, 1, 1, 1, #  175
        1, 1, 1, 1, 1, #  180
        1, 1, 1, 1, 1, #  185
        1, 1, 1, 1, 1, #  190
        1, 1, 1, 1, 1, #  195
        1, 1, 1, 1, 1, #  200
        1, 1, 1, 1, 1, #  205
        1, 1, 1, 1, 1, #  210
        1, 1, 1, 1, 1, #  215
        1, 1, 1, 1, 1, #  220
        1, 1, 1, 1, 1, #  225
        1, 1, 1, 1, 1, #  230
        1, 1, 1, 1, 1, #  235
        1, 1, 1, 1, 1, #  240
        1, 1, 1, 1, 1, #  245
        1, 1, 1, 1, 1, #  250
        1, 1, 1, 1, 1, #  255
        1, 1, 1, 1, 1, #  260
        1, 1, 1, 1, 1, #  265
        1, 1, 1, 1, 1, #  270
        1, 1, 1, 1, 1, #  275
        1, 1, 1, 1, 1, #  280
        1, 1, 1, 1, 1, #  285
        1, 1, 1, 1, 1, #  290
        1, 1, 1, 1, 1, #  295
        1, 1, 1, 1, 1, #  300
        1, 1, 1, 1, 1, #  305
        1, 1, 1, 1, 1, #  310
        1, 1, 1, 1, 1, #  315
        1, 1, 1, 1, 1, #  320
        1, 1, 1, 1, 1, #  325
        1, 1, 1, 1, 1, #  330
        1, 1, 1, 1, 1, #  335
        1, 1, 1, 1, 1, #  340
        1, 1, 1, 1, 1, #  345
        1, 1, 1, 1, 1, #  350
        1, 1, 1, 1, 1, #  355
        1, 1, 1, 1, 1, #  360
        1, 1, 1, 1, 1, #  365
        1, 1, 1, 1, 1, #  370
        1, 1, 1, 1, 1, #  375
        1, 1, 1, 1, 1, #  380
        1, 1, 1, 1, 1, #  385
        1, 1, 1, 1, 1, #  390
        1, 1, 1, 1, 1, #  395
        1, 1, 1, 1, 1, #  400
        1, 1, 1, 1, 1, #  405
        1, 1, 1, 1, 1, #  410
        1, 1, 1, 1, 1, #  415
        1, 1, 1, 1, 1, #  420
        1, 1, 1, 1, 1, #  425
        1, 1, 1, 1, 1, #  430
        1, 1, 1, 1, 1, #  435
        1, 1, 1, 1, 1, #  440
        1, 1, 1, 1, 1, #  445
        1, 1, 1, 1, 1, #  450
        1, 1, 1, 1, 1, #  455
        1, 1, 1, 1, 1, #  460
        1, 1, 1, 1, 1, #  465
        1, 1, 1, 1, 1, #  470
        1, 1, 1, 1, 1, #  475
        1, 1, 1, 1, 1, #  480
        1, 1, 1, 1, 1, #  485
        1, 1, 1, 1, 1, #  490
        1, 1, 1, 1, 1, #  495
        1, 1, 1, 1, 1, #  500
        1, 1, 1, 1, 1, #  505
        1, 1, 1, 1, 1, #  510
        1, 1, 1, 1, 1, #  515
        1, 1, 1, 1, 1, #  520
        1, 1, 1, 1, 1, #  525
        1, 1, 1, 1, 1, #  530
        1, 1, 1, 1, 1, #  535
        1, 1, 1, 1, 1, #  540
        1, 1, 1, 1, 1, #  545
        1, 1, 1, 1, 1, #  550
        1, 1, 1, 1, 1, #  555
        1, 1, 1, 1, 1, #  560
        1, 1, 1, 1, 1, #  565
        1, 1, 1, 1, 1, #  570
        1, 1, 1, 1, 1, #  575
        1, 1, 1, 1, 1, #  580
        1, 1, 1, 1, 1, #  585
        1, 1, 1, 1, 1, #  590
        1, 1, 1, 1, 1, #  595
        1, 1, 1, 1, 1, #  600
        1, 1, 1, 1, 1, #  605
        1, 1, 1, 1, 1, #  610
        1, 1, 1, 1, 1, #  615
        1, 1, 1, 1, 1, #  620
        1, 1, 1, 1, 1, #  625
        1, 1, 1, 1, 1, #  630
        1, 1, 1, 1, 1, #  635
        1, 1, 1, 1, 1, #  640
        1, 1, 1, 1, 1, #  645
        1, 1, 1, 1, 1, #  650
        1, 1, 1, 1, 1, #  655
        1, 1, 1, 1, 1, #  660
        1, 1, 1, 1, 1, #  665
        1, 1, 1, 1, 1, #  670
        1, 1, 1, 1, 1, #  675
        1, 1, 1, 1, 1, #  680
        1, 1, 1, 1, 1, #  685
        1, 1, 1, 1, 1, #  690
        1, 1, 1, 1, 1, #  695
        1, 1, 1, 1, 1, #  700
        1, 1, 1, 1, 1, #  705
        1, 1, 1, 1, 1, #  710
        1, 1, 1, 1, 1, #  715
        1, 1, 1, 1, 1, #  720
        1, 1, 1, 1, 1, #  725
        1, 1, 1, 1, 1, #  730
        1, 1, 1, 1, 1, #  735
        1, 1, 1, 1, 1, #  740
        1, 1, 1, 1, 1, #  745
        1, 1, 1, 1, 1, #  750
        1, 1, 1, 1, 1, #  755
        1, 1, 1, 1, 1, #  760
        1, 1, 1, 1, 1, #  765
        1, 1, 1, 1, 1, #  770
        1, 1, 1, 1, 1, #  775
        1, 1, 1, 1, 1, #  780
        1, 1, 1, 1, 1, #  785
        1, 1, 1, 1, 1, #  790
        1, 1, 1, 1, 1, #  795
        1, 1, 1, 1, 1, #  800
        0.994435486, 0.988901936, 0.983399178, 0.977927039, 0.972485351, #  805
        0.967073942, 0.961692646, 0.956341294, 0.95101972, 0.945727757, #  810
        0.940465242, 0.93523201, 0.930027899, 0.924852745, 0.91970639, #  815
        0.914588671, 0.909499429, 0.904438507, 0.899405746, 0.894400991, #  820
        0.889424084, 0.884474871, 0.879553199, 0.874658913, 0.869791861, #  825
        0.864951892, 0.860138855, 0.855352601, 0.850592979, 0.845859843, #  830
        0.841153044, 0.836472436, 0.831817874, 0.827189212, 0.822586306, #  835
        0.818009013, 0.813457191, 0.808930697, 0.804429391, 0.799953132, #  840
        0.795501782, 0.791075201, 0.786673252, 0.782295798, 0.777942702, #  845
        0.773613829, 0.769309044, 0.765028214, 0.760771204, 0.756537882, #  850
        0.752328116, 0.748141776, 0.743978731, 0.739838851, 0.735722007, #  855
        0.731628072, 0.727556917, 0.723508417, 0.719482444, 0.715478874, #  860
        0.711497582, 0.707538444, 0.703601336, 0.699686137, 0.695792724, #  865
        0.691920975, 0.688070772, 0.684241992, 0.680434518, 0.676648231, #  870
        0.672883012, 0.669138746, 0.665415314, 0.661712601, 0.658030492, #  875
        0.654368872, 0.650727628, 0.647106645, 0.643505811, 0.639925014, #  880
        0.636364142, 0.632823085, 0.629301732, 0.625799974, 0.622317701, #  885
        0.618854806, 0.61541118, 0.611986716, 0.608581307, 0.605194848, #  890
        0.601827233, 0.598478357, 0.595148116, 0.591836406, 0.588543124, #  895
        0.585268168, 0.582011435, 0.578772824, 0.575552235, 0.572349566, #  900
        0.569164719, 0.565997594, 0.562848093, 0.559716117, 0.556601569, #  905
        0.553504352, 0.550424369, 0.547361525, 0.544315724, 0.541286872, #  910
        0.538274873, 0.535279635, 0.532301064, 0.529339068, 0.526393553, #  915
        0.523464429, 0.520551604, 0.517654987, 0.514774489, 0.511910019, #  920
        0.509061489, 0.506228809, 0.503411892, 0.500610649, 0.497824994, #  925
        0.49505484, 0.492300101, 0.48956069, 0.486836523, 0.484127514, #  930
        0.48143358, 0.478754636, 0.476090599, 0.473441387, 0.470806916, #  935
        0.468187104, 0.46558187, 0.462991133, 0.460414813, 0.457852828, #  940
        0.4553051, 0.452771548, 0.450252095, 0.447746661, 0.445255168, #  945
        0.44277754, 0.440313698, 0.437863566, 0.435427068, 0.433004128, #  950
        0.430594671, 0.428198621, 0.425815904, 0.423446445, 0.421090172, #  955
        0.41874701, 0.416416886, 0.414099729, 0.411795465, 0.409504023, #  960
        0.407225332, 0.404959321, 0.40270592, 0.400465057, 0.398236664, #  965
        0.39602067, 0.393817008, 0.391625607, 0.389446401, 0.387279321, #  970
        0.3851243, 0.382981271, 0.380850166, 0.37873092, 0.376623467, #  975
        0.37452774, 0.372443675, 0.370371207, 0.368310272, 0.366260804, #  980
        0.364222741, 0.362196018, 0.360180574, 0.358176344, 0.356183267, #  985
        0.35420128, 0.352230322, 0.350270331, 0.348321247, 0.346383009, #  990
        0.344455556, 0.342538828, 0.340632766, 0.33873731, 0.336852402, #  995
        0.334977982, 0.333113992, 0.331260375, 0.329417072, 0.327584026, # 1000
        0.32576118, 0.323948478, 0.322145862, 0.320353277, 0.318570666, # 1005
        0.316797976, 0.315035149, 0.313282131, 0.311538869, 0.309805306, # 1010
        0.30808139, 0.306367067, 0.304662283, 0.302966986, 0.301281122, # 1015
        0.299604639, 0.297937485, 0.296279607, 0.294630955, 0.292991477, # 1020
        0.291361122, 0.289739839, 0.288127578, 0.286524288, 0.28492992, # 1025
        0.283344423, 0.281767749, 0.280199849, 0.278640673, 0.277090173, # 1030
        0.275548301, 0.274015008, 0.272490248, 0.270973972, 0.269466134, # 1035
        0.267966686, 0.266475582, 0.264992774, 0.263518218, 0.262051868, # 1040
        0.260593676, 0.259143599, 0.257701591, 0.256267607, 0.254841602, # 1045
        0.253423533, 0.252013354, 0.250611022, 0.249216494, 0.247829725, # 1050
        0.246450673, 0.245079295, 0.243715548, 0.242359389, 0.241010777, # 1055
        0.239669669, 0.238336024, 0.2370098, 0.235690956, 0.23437945, # 1060
        0.233075242, 0.231778292, 0.230488558, 0.229206002, 0.227930582, # 1065
        0.226662259, 0.225400994, 0.224146747, 0.222899479, 0.221659152, # 1070
        0.220425726, 0.219199164, 0.217979427, 0.216766478, 0.215560278, # 1075
        0.21436079, 0.213167976, 0.2119818, 0.210802224, 0.209629212, # 1080
        0.208462728, 0.207302734, 0.206149195, 0.205002075, 0.203861338, # 1085
        0.202726949, 0.201598872, 0.200477072, 0.199361515, 0.198252165, # 1090
        0.197148988, 0.19605195, 0.194961016, 0.193876153, 0.192797326, # 1095
        0.191724503, 0.190657649, 0.189596732, 0.188541718, 0.187492575, # 1100
        0.18644927, 0.185411771, 0.184380044, 0.183354059, 0.182333783, # 1105
        0.181319184, 0.180310231, 0.179306892, 0.178309136, 0.177316933, # 1110
        0.17633025, 0.175349058, 0.174373326, 0.173403023, 0.172438119, # 1115
        0.171478585, 0.17052439, 0.169575505, 0.1686319, 0.167693545, # 1120
        0.166760412, 0.165832471, 0.164909694, 0.163992052, 0.163079516, # 1125
        0.162172058, 0.161269649, 0.160372262, 0.159479868, 0.15859244, # 1130
        0.15770995, 0.156832371, 0.155959675, 0.155091836, 0.154228825, # 1135
        0.153370616, 0.152517184, 0.1516685, 0.150824538, 0.149985273, # 1140
        0.149150678, 0.148320727, 0.147495394, 0.146674654, 0.145858481, # 1145
        0.145046849, 0.144239734, 0.14343711, 0.142638952, 0.141845236, # 1150
        0.141055936, 0.140271028, 0.139490488, 0.138714291, 0.137942414, # 1155
        0.137174831, 0.13641152, 0.135652456, 0.134897616, 0.134146977, # 1160
        0.133400514, 0.132658205, 0.131920026, 0.131185956, 0.13045597, # 1165
        0.129730046, 0.129008161, 0.128290293, 0.12757642, 0.126866519, # 1170
        0.126160569, 0.125458547, 0.124760431, 0.1240662, 0.123375832, # 1175
        0.122689305, 0.122006599, 0.121327691, 0.120652562, 0.119981189, # 1180
        0.119313552, 0.11864963, 0.117989402, 0.117332849, 0.116679948, # 1185
        0.116030681, 0.115385027, 0.114742965, 0.114104477, 0.113469541, # 1190
        0.112838138, 0.112210248, 0.111585853, 0.110964932, 0.110347466, # 1195
        0.109733436, 0.109122823, 0.108515607, 0.107911771, 0.107311294, # 1200
        0.106714159, 0.106120347, 0.105529838, 0.104942616, 0.104358662, # 1205
        0.103777956, 0.103200482, 0.102626222, 0.102055157, 0.10148727, # 1210
        0.100922542, 0.100360957, 0.099802497, 0.099247145, 0.098694883, # 1215
        0.098145694, 0.097599561, 0.097056467, 0.096516395, 0.095979328, # 1220
        0.095445249, 0.094914143, 0.094385992, 0.09386078, 0.09333849, # 1225
        0.092819107, 0.092302614, 0.091788995, 0.091278233, 0.090770314, # 1230
        0.090265222, 0.08976294, 0.089263453, 0.088766745, 0.088272801, # 1235
        0.087781606, 0.087293144, 0.0868074, 0.086324359, 0.085844006, # 1240
        0.085366326, 0.084891304, 0.084418925, 0.083949174, 0.083482038, # 1245
        0.083017501, 0.082555549, 0.082096168, 0.081639342, 0.081185059, # 1250
        0.080733304, 0.080284062, 0.07983732, 0.079393065, 0.078951281, # 1255
        0.078511955, 0.078075074, 0.077640625, 0.077208592, 0.076778964, # 1260
        0.076351726, 0.075926866, 0.07550437, 0.075084225, 0.074666418, # 1265
        0.074250935, 0.073837765, 0.073426894, 0.073018309, 0.072611997, # 1270
        0.072207947, 0.071806145, 0.071406578, 0.071009236, 0.070614104, # 1275
        0.070221171, 0.069830424, 0.069441851, 0.069055441, 0.068671181, # 1280
        0.06828906, 0.067909064, 0.067531183, 0.067155405, 0.066781718, # 1285
        0.06641011, 0.06604057, 0.065673086, 0.065307648, 0.064944242, # 1290
        0.064582859, 0.064223487, 0.063866115, 0.063510731, 0.063157324, # 1295
        0.062805884, 0.0624564, 0.062108861, 0.061763255, 0.061419573, # 1300
    ]

    def get_class_number(self, game_class):
        for i in self.GAME_CLASS_NUMBER.keys():
            if self.GAME_CLASS_NUMBER[i] == game_class:
                return i
        raise exceptions.InvalidInputException(_('{game_class} is not a supported game class').format(game_class=game_class))

    def get_agi_per_crit(self, game_class, level):
        return self.AGI_PER_CRIT_VALUES[self.get_class_number(game_class)][level - 1]

    def get_agi_intercept(self, game_class):
        return self.AGI_CRIT_INTERCEPT_VALUES[self.get_class_number(game_class)]

    def get_random_prop_point(self, item_level):
        if item_level < 1:
            raise exceptions.InvalidInputException(_('item_level={item_level} need to be >= 1').format(item_level=item_level))
        return self.RANDOM_PROP_POINTS[item_level][1]

    def get_combat_rating_multiplier(self, item_level):
        if item_level < 1:
            raise exceptions.InvalidInputException(_('item_level={item_level} need to be >= 1').format(item_level=item_level))
        return self.COMBAT_RATING_MULTIPLIERS[item_level - 1]

    def get_constant_scaling_point(self, level):
        return self.CONSTANT_SCALING[level-1]

    def get_base_armor(self, level):
        if level < 100:
            raise exceptions.InvalidInputException(_('There\'s no armor value for a target level {level}').format(level=str(level)))
        return self.BASE_ARMOR[level]

    def get_k_value(self, level):
        if level < 100:
            raise exceptions.InvalidInputException(_('There\'s no k value for a level {level} player').format(level=str(level)))
        return self.ATTACKER_K_VALUE[level]